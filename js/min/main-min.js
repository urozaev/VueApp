"use strict";const request=new XMLHttpRequest;request.open("GET","https://urozaev.github.io/showTest/users.json",!1),request.send();const users=JSON.parse(request.responseText);fetch("https://urozaev.github.io/showTest/users.json").then(function(e){console.log(e.json())}).then(function(e){console.log(JSON.stringify(e))}),Vue.component("user-component",{template:'\n      \n        <div class="user__info">\n            <div class="content">\n                    <span><strong>{{user.name}}</strong></span>\n                    <br>\n                    <span>ID: {{user.id}}</span>\n                    <br>\n                    <span>Специальность: {{user.role}}</span>\n                    <br>\n                    <span> Номер телефона: {{user.phone}}</span>\n            </div>\n            <slot name="user-modal">\n            \n            </slot>\n        </div>\n      \n    ',props:{user:Object}}),Vue.component("modal",{template:"#modal-template"});var vm=new Vue({el:"#app",data:function(){return{isModalVisible:!1,items:users,item:function(e){return{name:e.name,phone:e.phone,birthday:e.birthday,role:e.role,archive:e.isArchive}},edit:!1,editIndex:-1}},methods:{addItem:function(e){e.preventDefault(),this.edit?(this.items[this.editIndex]=this.item,this.item={name:"",phone:"",birthday:"",role:"",archive:""},this.edit=!1,this.editIndex=-1):(this.items.push(this.item),this.item={name:"",phone:"",birthday:"",role:"",archive:""}),$("#modal").modal("hide")},editItem:function(e){this.edit=!0,this.editIndex=e,this.item=this.items[e],$("#modal").modal("show")},editCancel:function(e){this.item=function(e){return{name:e.name,phone:e.phone,birthday:e.birthday,role:e.role,archive:e.isArchive}},this.editIndex=-1},filterAll(){this.items=_.filter(users,function(e){return users})},filterDesign(){this.items=_.filter(users,function(e){return"designer"===e.role})},filterDeveloper(){this.items=_.filter(users,function(e){return"developer"===e.role})},filterManager(){this.items=_.filter(users,function(e){return"manager"===e.role})},sortByName(){this.items=_.sortBy(this.items,["name"])},sortByBDate(){this.items=function(e){return console.log(e),Intl.DateTimeFormat("ru").format(e.birthday)}},sortByID(){this.items=_.sortBy(this.items,["id"])}},props:{user:Object}});$(function(){var e=$("button"),t=$("input[name=name]");t.keyup(function(){t.val().length>0?e.addClass("active"):e.removeClass("active")}),$("form").submit(function(e){e.preventDefault();const t={name:$("#user-name").val(),email:$("#user-phone").val(),caps:$("#user-birthday").val()};$.ajax({type:"POST",url:"https://api2.esetnod32.ru/frontend/test/",data:t,dataType:"json",encode:!0}).done(function(e){$(".response").empty().append(JSON.stringify(e,null,2))})})}),$(".phone_mask").mask("+7 (999) 999-99-99"),$(".mask-date").mask("99.99.9999");const setActive=e=>{[...e.parentElement.children].forEach(e=>e.classList.remove("active")),e.classList.add("active")};let active=[...document.body.querySelectorAll(".sort-button")];active.forEach(e=>e.addEventListener("click",t=>setActive(e)));